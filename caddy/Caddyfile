:80 {
    request_body {
        max_size 10MB
    }

    # API and Django admin
    handle /api/* {
        reverse_proxy backend:8000
    }
    handle /admin/* {
        reverse_proxy backend:8000
    }

    # Django static (admin CSS/JS etc.)
    handle /static/* {
        reverse_proxy backend:8000
    }

    # Frontend (SPA + Vite dev server)
    handle {
        reverse_proxy frontend:5173
    }
}
